---
import { Image } from 'astro:assets';
import logo from '@/assets/tu-logo.png';
import Layout from '../layouts/Layout.astro';
import Search from 'astro-pagefind/components/Search';
import BlogCard from '../components/BlogCard.astro';

import { getCollection } from 'astro:content';

const posts = await getCollection('blog');
---

<Layout title="TU - Sofia PWA" description="TU - Sofia PWA">
  <section class="pt-8 flex flex-col gap-8">
    <Image src={logo} alt="logo" class="mx-auto" class="h-16 w-16 mx-auto" />
    <Search id="search" uiOptions={{ showImages: false }} />
    <ul class="flex flex-col gap-4">
      {
        posts.map(post => (
          <BlogCard
            slug={post.slug}
            desc={post.data.description}
            title={post.data.title}
          />
        ))
      }
    </ul>
  </section>
</Layout>
